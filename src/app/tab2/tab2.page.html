<ion-header>
  <ion-toolbar>
    <ion-title>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <!-- üëá ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏° -->
  <ion-segment mode="ios" [(ngModel)]="groupBy" (ionChange)="groupMaterials()">
    <ion-segment-button value="type">
      <ion-label>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</ion-label>
    </ion-segment-button>
    <ion-segment-button value="category">
      <ion-label>‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</ion-label>
    </ion-segment-button>
    <ion-segment-button value="storageLocation">
      <ion-label>‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏î‡πÄ‡∏Å‡πá‡∏ö</ion-label>
    </ion-segment-button>
    <ion-segment-button value="status">
      <ion-label>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</ion-label>
    </ion-segment-button>
  </ion-segment>

  <!-- üëá ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÅ‡∏•‡πâ‡∏ß -->
  <ng-container *ngIf="groupedMaterials | keyvalue as groups">
    <div *ngFor="let group of groups">
      <ion-text color="medium">
        <h3 class="ion-padding-top">{{ group.key }}</h3>
      </ion-text>

      <ion-list mode="ios">
        <ion-item *ngFor="let m of group.value">
          <ion-label>
            <h3>{{ m.name }} ({{ m.unit }})</h3>
            <ion-segment [(ngModel)]="m.status" (ionChange)="updateStatus(m)" mode="ios">
              <ion-segment-button [value]="'‡∏´‡∏°‡∏î'">
                <ion-label color="danger">‡∏´‡∏°‡∏î</ion-label>
              </ion-segment-button>
              <ion-segment-button [value]="'‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ô‡πâ‡∏≠‡∏¢'">
                <ion-label color="warning">‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ô‡πâ‡∏≠‡∏¢</ion-label>
              </ion-segment-button>
              <ion-segment-button [value]="'‡πÄ‡∏ï‡πá‡∏°'">
                <ion-label color="success">‡πÄ‡∏ï‡πá‡∏°</ion-label>
              </ion-segment-button>
            </ion-segment>
          </ion-label>
        </ion-item>
      </ion-list>
    </div>
    <ion-fab horizontal="end" vertical="bottom" slot="fixed" routerLink="add-material">
    <ion-fab-button>
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>
  </ng-container>
</ion-content>