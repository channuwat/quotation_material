<ion-header>
  <ion-toolbar>
    <ion-title>รายการวัตถุดิบ</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ng-container *ngIf="groupedMaterials | keyvalue as categories">
    <div *ngFor="let cat of categories">
      <ion-text color="primary">
        <h2 class="ion-padding-top">{{ cat.key }}</h2>
      </ion-text>

      <ion-list>
        <ion-item *ngFor="let m of cat.value">
          <ion-label>
            <h3>{{ m.name }} ({{ m.unit }})</h3>
            <p>คงเหลือ: {{ m.stockQty }} | ขั้นต่ำ: {{ m.minQty }}</p>
            <ion-badge color="{{ m.needToReorder ? 'danger' : 'success' }}">
              {{ m.needToReorder ? '⚠️ ต้องเติม' : '✅ เพียงพอ' }}
            </ion-badge>
          </ion-label>
        </ion-item>
      </ion-list>
    </div>
  </ng-container>
</ion-content>
