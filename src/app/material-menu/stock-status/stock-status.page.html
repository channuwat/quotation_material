<ion-header mode="ios">
  <ion-toolbar>
    <ion-title>สถานะสต๊อก</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <ion-list *ngIf="materials.length > 0">
    <ion-item *ngFor="let m of materials">
      <ion-list class="list-items" lines="full">
        <ion-item button>
          <ion-label>
            <h2>{{ m.name }}</h2>
            <p>หน่วย: {{ m.unit }}</p>
          </ion-label>
          <ion-icon *ngIf="m.status === 'low'" aria-hidden="true" name="cart" slot="end" [style.color]="m.status === 'low'? 'orange' : ''"></ion-icon>
          <ion-icon *ngIf="m.status === 'empty'"aria-hidden="true" name="cart" slot="end" [style.color]="m.status === 'empty'? 'red' : ''"></ion-icon>
        </ion-item>
        <ion-item lines="none">
          <div style="margin-top: 8px; width: 100%;">
            <ion-segment [(ngModel)]="m.status" (ionChange)="updateStatus(m)" mode="ios">
              <ion-segment-button value="empty">
                <ion-label color="danger">หมด</ion-label>
              </ion-segment-button>
              <ion-segment-button value="low">
                <ion-label color="warning">เหลือน้อย</ion-label>
              </ion-segment-button>
              <ion-segment-button value="full">
                <ion-label color="success">เต็ม</ion-label>
              </ion-segment-button>
            </ion-segment>
          </div>
        </ion-item>
      </ion-list>
    </ion-item>
  </ion-list>

  <ion-text *ngIf="materials.length === 0" color="medium">
    <p class="ion-text-center">ไม่มีข้อมูลวัตถุดิบ</p>
  </ion-text>

  <ion-fab vertical="bottom" horizontal="end" slot="fixed" routerLink="/add-material">
    <ion-fab-button>
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>